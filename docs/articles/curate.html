<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Curation of Bioconductor package metadata, targeting EDAM ontology and ELIXIR bio.tools metadata schemas â€¢ biocEDAM</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Curation of Bioconductor package metadata, targeting EDAM ontology and ELIXIR bio.tools metadata schemas">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">biocEDAM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.12</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/biocEDAM.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/biotools.html">Examining biotools tagging of Bioconductor packages</a></li>
    <li><a class="dropdown-item" href="../articles/curate.html">Curation of Bioconductor package metadata, targeting EDAM ontology and ELIXIR bio.tools metadata schemas</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/vjcitn/biocEDAM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="curate_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="curate_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="curate_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="curate_files/datatables-binding-0.33/datatables.js"></script><link href="curate_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="curate_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="curate_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="curate_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="curate_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Curation of Bioconductor package metadata, targeting EDAM ontology and ELIXIR bio.tools metadata schemas</h1>
                        <h4 data-toc-skip class="author">Vincent J. Carey, stvjc at channing.harvard.edu</h4>
            
            <h4 data-toc-skip class="date">March 18, 2025</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/vjcitn/biocEDAM/blob/HEAD/vignettes/curate.Rmd"><code>vignettes/curate.Rmd</code></a></small>
      <div class="d-none name"><code>curate.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette is derived almost entirely from collaborative code supplied by Anh Nguyet Vu of Sage Bionetworks. The purpose is to illustrate usage of OpenAPI transformation to provide systematic organization and tagging of content available for Bioconductor packages.</p>
<p>Code in this vignette requires that <code>OPENAI_API_KEY</code> be defined.</p>
</div>
<div class="section level2">
<h2 id="example-1-tximeta">Example 1: tximeta<a class="anchor" aria-label="anchor" href="#example-1-tximeta"></a>
</h2>
<p>We start with the transformation of vignette content, which may be in HTML or PDF, based on the structured data extraction code examples given in a vignette for the ellmer package on CRAN. We prompt GPT-4o to produce a concise and objective summary of at most 450 words, which is placed in the <code>focus</code> component of the returned data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_API_KEY"</span><span class="op">)</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vjcitn/biocEDAM">biocEDAM</a></span><span class="op">)</span></span>
<span><span class="va">content</span> <span class="op">=</span> <span class="fu"><a href="../reference/vig2data.html">vig2data</a></span><span class="op">(</span><span class="st">"https://bioconductor.org/packages/release/bioc/vignettes/tximeta/inst/doc/tximeta.html"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">content</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">content</span><span class="op">$</span><span class="va">focus</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 5</span></span>
<span><span class="co">##  $ author    : chr [1:4] "Michael I. Love" "Charlotte Soneson" "Peter F. Hickey" "Rob Patro"</span></span>
<span><span class="co">##  $ topics    : chr [1:5] "RNA-seq" "transcriptomics" "data import" "bioconductor" ...</span></span>
<span><span class="co">##  $ focused   : chr "The tximeta package is designed to extend the functionality of the tximport package for importing transcript-le"| __truncated__</span></span>
<span><span class="co">##  $ coherence : int 97</span></span>
<span><span class="co">##  $ persuasion: num 0.95</span></span></code></pre>
<pre><code><span><span class="co">## [1] 2457</span></span></code></pre>
<p>We then use schema-driven inference to produce associated EDAM tags; see the code in <code>inst/curbioc</code> in the package source.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_API_KEY"</span><span class="op">)</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">content</span><span class="op">$</span><span class="va">focus</span>,<span class="fl">1</span>,<span class="fl">250</span><span class="op">)</span></span>
<span><span class="va">ans</span> <span class="op">=</span> <span class="fu"><a href="../reference/edamize.html">edamize</a></span><span class="op">(</span><span class="va">content</span><span class="op">$</span><span class="va">focus</span><span class="op">)</span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="fu"><a href="../reference/mkdf.html">mkdf</a></span><span class="op">(</span><span class="va">ans</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required namespace: reticulate</span></span></code></pre>
<pre><code><span><span class="co">## Success after 0 attempts</span></span></code></pre>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14"],["http://edamontology.org/topic_0091","http://edamontology.org/topic_3308","http://edamontology.org/topic_3170","http://edamontology.org/topic_0219","http://edamontology.org/operation_2422","http://edamontology.org/operation_0361","http://edamontology.org/operation_3800","http://edamontology.org/operation_3282","http://edamontology.org/data_0849","http://edamontology.org/format_1929","http://edamontology.org/format_1930","http://edamontology.org/data_0928","http://edamontology.org/format_3752","http://edamontology.org/format_3464"],["Bioinformatics","Transcriptomics","RNA-Seq","Data submission, annotation and curation","Data retrieval","Sequence annotation","RNA-Seq quantification","ID mapping","Sequence record","FASTA","FASTQ","Gene expression profile","CSV","JSON"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>uri<\/th>\n      <th>tm<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"uri","targets":1},{"name":"tm","targets":2}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="example-2-msnbase">Example 2: MSnbase<a class="anchor" aria-label="anchor" href="#example-2-msnbase"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_API_KEY"</span><span class="op">)</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="va">mm</span> <span class="op">=</span> <span class="fu"><a href="../reference/vig2data.html">vig2data</a></span><span class="op">(</span><span class="st">"https://bioconductor.org/packages/release/bioc/vignettes/MSnbase/inst/doc/v05-MSnbase-development.html"</span><span class="op">)</span></span>
<span><span class="va">uu</span> <span class="op">=</span> <span class="fu"><a href="../reference/edamize.html">edamize</a></span><span class="op">(</span><span class="va">mm</span><span class="op">$</span><span class="va">focus</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">uu</span><span class="op">)</span><span class="op">)</span> <span class="va">uu</span> <span class="op">=</span> <span class="fu"><a href="../reference/edamize.html">edamize</a></span><span class="op">(</span><span class="va">mm</span><span class="op">$</span><span class="va">focus</span><span class="op">)</span>  <span class="co"># second try</span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="fu"><a href="../reference/mkdf.html">mkdf</a></span><span class="op">(</span><span class="va">uu</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## Using <span style="color: #00BB00;">model</span> = <span style="color: #0000BB;">"gpt-4o"</span>.</span></span></code></pre>
<pre><code><span><span class="co">## JSON not valid, trying QC/correction prompt, attempt 1</span></span>
<span><span class="co">## Success after 1 attempts</span></span>
<span><span class="co">## Success after 0 attempts</span></span></code></pre>
<div class="datatables html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],["http://edamontology.org/topic_0121","http://edamontology.org/topic_0091","http://edamontology.org/topic_0092","http://edamontology.org/topic_3172","http://edamontology.org/operation_2422","http://edamontology.org/operation_3214","http://edamontology.org/operation_3630","http://edamontology.org/operation_3628","http://edamontology.org/operation_3627","http://edamontology.org/data_2536","http://edamontology.org/format_3244","http://edamontology.org/format_3654","http://edamontology.org/data_0945","http://edamontology.org/format_3247","http://edamontology.org/format_3752"],["Proteomics","Bioinformatics","Data visualisation","Metabolomics","Data retrieval","Spectral analysis","Protein quantification","Chromatographic alignment","Mass spectra calibration","Mass spectrometry data","mzML","mzXML","Peptide identification","mzIdentML","CSV"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>uri<\/th>\n      <th>tm<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"uri","targets":1},{"name":"tm","targets":2}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="caveats">Caveats<a class="anchor" aria-label="anchor" href="#caveats"></a>
</h2>
<p>Sometimes there is no result. This pertains to indeterminacy in the GPT environment we are using. Often a second try will get a result. If you have persistent trouble, please file an issue.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vincent Carey, Anh Nguyet Vu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
